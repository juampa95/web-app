{% extends 'base_compras.html' %}
{% load static %}

{% block content %}
  <h2>Ingresar Nueva Compra</h2>
  <form method="post" id="formulario-compra" action="{% url 'ingresar_compra' %}">
    {% csrf_token %}
    <label for="numero_factura">NÃºmero de Factura:</label>
    <input type="text" id="numero_factura" name="numero_factura" required><br>

    <label for="proveedor">Proveedor:</label>
    <select id="proveedor_id" name="proveedor_id" required>
      {% for proveedor in proveedores %}
        <option value="{{ proveedor.proveedor_id }}">{{ proveedor.razon_social }}</option>
      {% endfor %}
    </select><br>

    <label for="fecha">Fecha:</label>
    <input type="date" id="fecha" name="fecha" required><br>

    <div id="productos-container">
      <div class="producto-row">
        <label for="productos">Producto:</label>
        <input class="producto-autocomplete" name="producto" required>
        <label for="cantidad">Cantidad:</label>
        <input class="cantidad" type="number" name="cantidad" value="1" required>
        <label for="precio">Precio:</label>
        <input class="precio" type="number" step="0.01" name="precio" required>
      </div>
    </div>

    <button type="button" id="agregar-producto-btn">Agregar Producto</button>
    <button type="submit" class="btn btn-success">Guardar Compra</button>
  </form>
{% endblock %}


